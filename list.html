<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <link rel="stylesheet" href="styleList.css">
    <meta charset="UTF-8">
    <title>Lista De Vendedores</title>
  </head>
  <body>
    <header>
      <h1>Lista de Vendedores</h1>
    </header>
    <main>
    
      <table>
        <thead>
            <tr>
                <th>Nome</th>
                <th>Data Registro</th>
                <th>Vencimento</th>
                <th>Preço</th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>Vendedor 1</td>
                <td>2023-07-15</td>
                <td>2023-05-31</td>
                <td>R$ 50,00</td>
                <td><button class="buy-button">Comprar</button>
                  <button class="Neg-button">Negociar</button>
                </td>
                
            </tr>
            <tr>
                <td>Vendedor 2</td>
                <td>2023-07-15</td>
                <td>- - - - - - - - - </td>
                <td>R$ 35,00</td>
                <td><button class="buy-button">Comprar</button>
                  <button class="Neg-button">Negociar</button>
                </td>
            </tr>
            <tr>
                <td>Vendedor 3</td>
                <td>2023-07-15</td>
                <td>- - - - - - - - - </td>
                <td>R$ 70,00</td>
                <td><button class="buy-button">Comprar</button>
                  <button class="Neg-button">Negociar</button>
                </td>
            </tr>
            <tr>
                <td>Vendedor 4</td>
                <td>2023-07-15</td>
                <td>2023-07-15</td>
                <td>R$ 25,00</td>
                <td><button class="buy-button">Comprar</button>
                  <button class="Neg-button">Negociar</button>
                </td>
            </tr>
        </tbody>
    </table>

    <div id="modal" class="modal">
      <div class="modal-content">
        <span class="close">&times;</span>
        <h2>Confirmação de Venda de Ingresso</h2>
        <p>Deseja confirmar a compra deste ingresso?</p>
        <button class="confirm-button">Confirmar</button>
        <button class="cancel-button">Cancelar</button>
      </div>
    </div>

      <!-- Minimodal de envio de mensagem -->
      <div id="minimodal" class="minimodal">
        <span class="close">&times;</span>
        <textarea readonly id="message-input2" placeholder="Aqui Vai Ficar a Mensagem"></textarea>
        <textarea id="message-input" placeholder="Digite uma mensagem"></textarea>
        <button class="send-button">Enviar</button>
      </div>
    </main>
  

    </main>
    <script>
      // Captura todos os botões de compra
      const buyButtons = document.querySelectorAll(".buy-button");

      // Adiciona um evento de clique a cada botão de compra
      buyButtons.forEach((button) => {
        button.addEventListener("click", () => {
          // Exibe o modal de confirmação de venda
          document.getElementById("modal").style.display = "block";
          

          // Adiciona um evento de clique ao botão de confirmar venda
      confirmButton.addEventListener("click", () => {
        // Lógica para processar a venda do ingresso
  
        // Fecha o modal de confirmação de venda
        document.getElementById("modal").style.display = "none";
        const row = button.closest("tr");
          row.remove();
       
      });

      // Captura o botão de cancelar venda
      const cancelButton = document.querySelector(".cancel-button");

      // Adiciona um evento de clique ao botão de cancelar venda
      cancelButton.addEventListener("click", () => {
        // Fecha o modal de confirmação de venda
        document.getElementById("modal").style.display = "none";
      });

        });
      });

      // Captura o botão de fechar o modal
      const closeButton = document.querySelector(".close");

      // Adiciona um evento de clique ao botão de fechar o modal
      closeButton.addEventListener("click", () => {
        // Fecha o modal de confirmação de venda
        document.getElementById("modal").style.display = "none";
      });

      // Captura o botão de confirmar venda
      const confirmButton = document.querySelector(".confirm-button");


      const negotiateButtons = document.querySelectorAll(".Neg-button");

// Adiciona um evento de clique a cada botão de negociação
negotiateButtons.forEach((button) => {
  button.addEventListener("click", () => {
    document.getElementById("minimodal").classList.add("open");
        });
      });

      
      // Captura o botão de fechar o minimodal
      const minimodalCloseButton = document.querySelector(".minimodal .close");

      // Adiciona um evento de clique ao botão de fechar o minimodal
      minimodalCloseButton.addEventListener("click", () => {
        // Fecha o minimodal
        document.getElementById("minimodal").classList.remove("open");
      });

      // Lógica de envio de mensagem no minimodal
      const sendButton = document.querySelector(".minimodal .send-button");
      const messageInput = document.getElementById("message-input");

      sendButton.addEventListener("click", () => {
        const message = messageInput.value;
        if (message !== "") {
          // Lógica para enviar a mensagem (pode ser substituída pela implementação do chat em tempo real)

          // Limpa o campo de entrada de mensagem
          messageInput.value = "";
        }
      });
      
      
    </script>
  </body>
</html>